# ๐ค ุฑุจุงุช ูพุฑุฏุงุฒุด ูุฏู ุชูฺฏุฑุงู ุจู N8N

[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-F38020?style=for-the-badge&logo=cloudflare&logoColor=white)](https://workers.cloudflare.com/)
[![Telegram Bot API](https://img.shields.io/badge/Telegram-Bot_API-2CA5E0?style=for-the-badge&logo=telegram&logoColor=white)](https://core.telegram.org/bots/api)
[![N8N](https://img.shields.io/badge/n8n-EA4B71?style=for-the-badge&logo=n8n&logoColor=white)](https://n8n.io/)

ุฑุจุงุช ูุฏุฑุชููุฏ ุชูฺฏุฑุงู ุจุฑ ูพุงู Cloudflare Workers ฺฉู ูุฏููุง ุขูพููุฏ ุดุฏู ุฑุง ูพุฑุฏุงุฒุด ฺฉุฑุฏู ู ุจู ุฌุฑุงูโูุง ฺฉุงุฑ N8N ุงุฑุณุงู ูโฺฉูุฏ. ุจุฑุง ุฎูุฏฺฉุงุฑุณุงุฒ ุฌุฑุงู ฺฉุงุฑ ูุญุชูุง ูุฏูุ ุขูพููุฏ ูุชูุจ ุง ูุฑ ุฎุท ูููู ูพุฑุฏุงุฒุด ูุฏู ฺฉุงูู ุงุณุช.

## โจ ูฺฺฏโูุง

- ๐ **ุนููฺฉุฑุฏ ุฏูฺฏุงูู**: ูุฒุงุฑุฏ ฺุช ุฎุตูุต ู ูพุฑุฏุงุฒุด ูุจุชู ุจุฑ ููุดู ุฏุฑ ฺฏุฑูู
- ๐น **ูพุฑุฏุงุฒุด ูุฏู**: ูพุดุชุจุงู ุงุฒ ูุฏููุง ุชูฺฏุฑุงู ู ุงุณูุงุฏ ุจุง ููุน mime ูุฏู
- ๐ฏ **ุงูุชุฎุงุจ ููุดููุฏ ูุงู**: ุงูููุช ุจุง ูุฏููุง ุฑูพูุง ุดุฏู ุจุฑุง ุงูุชุฎุงุจ ุฏูู
- ๐ **ุงูู**: ุงุนุชุจุงุฑุณูุฌ ูุจููฺฉ ุจุง ุชูฺฉูโูุง ูุฎู
- ๐ **ูพุดุชุจุงู ฺฉุงูู ูุงุฑุณ**: ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฒุจุงู ุฑุงุณุชโุจูโฺูพ
- โก **ุจุฏูู ุณุฑูุฑ**: ุณุงุฎุชู ุดุฏู ุจุฑ ุฑู Cloudflare Workers ุจุฑุง ุงุณุชูุฑุงุฑ ุฌูุงู
- ๐๏ธ **ุฏุงุฑุง ุญุงูุช**: ุงุณุชูุงุฏู ุงุฒ Cloudflare KV ุจุฑุง ูุฏุฑุช ูุถุนุช ฺฏูุชฺฏู
- ๐ง **ูุงุจู ุชูุณุนู**: ูุนูุงุฑ ุชูุฒ ุจุง ุฑุนุงุช ุงุตูู SOLID

## ๐ ููุฑุณุช ูุทุงูุจ

- [ูุนูุงุฑ](#๐๏ธ-ูุนูุงุฑ)
- [ุฌุฑุงูโูุง ฺฉุงุฑ](#๐-ุฌุฑุงูโูุง-ฺฉุงุฑ)
- [ูุตุจ](#๐-ูุตุจ)
- [ูพฺฉุฑุจูุฏ](#โ๏ธ-ูพฺฉุฑุจูุฏ)
- [ูุญูู ุงุณุชูุงุฏู](#๐-ูุญูู-ุงุณุชูุงุฏู)
- [ูุฑุฌุน API](#๐-ูุฑุฌุน-api)
- [ุชูุณุนู](#๐ง-ุชูุณุนู)
- [ุงุณุชูุฑุงุฑ](#๐-ุงุณุชูุฑุงุฑ)
- [ูุดุงุฑฺฉุช](#๐ค-ูุดุงุฑฺฉุช)

## ๐๏ธ ูุนูุงุฑ

ุฑุจุงุช ุงุฒ ุงุตูู ูุนูุงุฑ ุชูุฒ ุจุง ุฌุฏุงุณุงุฒ ูุงุถุญ ูฺฏุฑุงูโูุง ูพุฑู ูโฺฉูุฏ:

```
src/
โโโ domain/           # ูุฏูโูุง ู ุฑุงุจุทโูุง ุชุฌุงุฑ ุงุตู
โโโ application/      # ููุงุฑุฏ ุงุณุชูุงุฏู ู ููุทู ุชุฌุงุฑ
โโโ infrastructure/   # ูุงุจุณุชฺฏโูุง ุฎุงุฑุฌ (Telegram APIุ N8Nุ ุฐุฎุฑูโุณุงุฒ KV)
โโโ worker.ts        # ููุทู ูุฑูุฏ ู ูุณุฑุงุจ HTTP
```

### ุงุฌุฒุง

- **ูุงู ุฏุงููู**: ููุฌูุฏุชโูุง ุงุตู ู ุฑุงุจุทโูุง ูุฎุฒู
- **ูุงู ฺฉุงุฑุจุฑุฏ**: ูุฏุฑุช ูุถุนุช ฺุช ู ููุทู ูพุฑุฏุงุฒุด ูพุงู
- **ูุงู ุฒุฑุณุงุฎุช**: ฺฉูุงูุช Telegram Bot APIุ ฺฉูุงูุช ูุจููฺฉ N8Nุ ูุฎุฒู Cloudflare KV
- **ูุงู ุงุฑุงุฆู**: ูุฏุฑุช ุฏุฑุฎูุงุณุช HTTP ู ุงุนุชุจุงุฑุณูุฌ ูุจููฺฉ

## ๐ ุฌุฑุงูโูุง ฺฉุงุฑ

### ุฌุฑุงู ฺฉุงุฑ ฺุช ุฎุตูุต (ูุฒุงุฑุฏ ุชุนุงูู)

1. **ุดุฑูุน**: ฺฉุงุฑุจุฑ ุฏุณุชูุฑ `/start` ุฑุง ุงุฑุณุงู ูโฺฉูุฏ
2. **ุขูพููุฏ ูุฏู**: ุฑุจุงุช ุฏุฑุฎูุงุณุช ูุงู ูุฏู ูโฺฉูุฏ
3. **ูุฑูุฏ ุนููุงู**: ฺฉุงุฑุจุฑ ุนููุงู ูุฏู ุฑุง ุงุฑุงุฆู ูโุฏูุฏ
4. **ูุฑูุฏ ุชูุถุญุงุช**: ฺฉุงุฑุจุฑ ุชูุถุญุงุช ูุฏู ุฑุง ุงุฑุงุฆู ูโุฏูุฏ
5. **ูุฑูุฏ ุชฺฏโูุง**: ฺฉุงุฑุจุฑ ุชฺฏโูุง ุฑุง ุงุฑุงุฆู ูโุฏูุฏ (ุฌุฏุง ุดุฏู ุจุง ูุฑฺฏูู)
6. **ุชุฃุฏ**: ุฑุจุงุช ุฎูุงุตู ุฑุง ูุดุงู ูโุฏูุฏ ู ุฏุฑุฎูุงุณุช ุชุฃุฏ ูโฺฉูุฏ
7. **ูพุฑุฏุงุฒุด**: ูพุณ ุงุฒ ุชุฃุฏุ payload ุฑุง ุจู ุฌุฑุงู ฺฉุงุฑ N8N ุงุฑุณุงู ูโฺฉูุฏ

### ุฌุฑุงู ฺฉุงุฑ ฺุช ฺฏุฑูู (ูุจุชู ุจุฑ ููุดู)

1. **ููุดู ุฑุจุงุช**: ฺฉุงุฑุจุฑ ุฑุจุงุช ุฑุง ุจุง ูุงูุจ ุณุงุฎุชุงุฑุงูุชู ููุดู ูโฺฉูุฏ
2. **ุชุฌุฒู ูุงูุจ**: ุฑุจุงุช ูุงูุจ ูุงุฑุณ ุฑุง ุชุฌุฒู ูโฺฉูุฏ
3. **ุงุนุชุจุงุฑุณูุฌ ูุงู**: file_id ูุฏู ุฑุง ุจุง Telegram API ุงุนุชุจุงุฑุณูุฌ ูโฺฉูุฏ
4. **ูพุฑุฏุงุฒุด ูุณุชูู**: ููุฑุงู ุจุฏูู ุชุฃุฏ ุจู N8N ุงุฑุณุงู ูโฺฉูุฏ

#### ูุงูุจ ฺฏุฑูู

```
@username_ุฑุจุงุช_ุดูุง
ุขูพููุฏ
https://t.me/YOUR_CHANNEL/MESSAGE_ID (ุงุฎุชุงุฑ)

ฺฉุงูุงู:
ูุงู ฺฉุงูุงู

ุนููุงู:
ุนููุงู ูุฏู

ุชูุถุญ:
ุชูุถุญุงุช ูุฏู

ุชฺฏ ูุง:
ุชฺฏฑ ู ุชฺฏฒ ู ุชฺฏณ
```

## ๐ ูุตุจ

### ูพุดโูุงุฒูุง

- **Node.js 18+**
- **ุญุณุงุจ Cloudflare** ุจุง Workers ูุนุงู ุดุฏู
- **Wrangler CLI** ูุตุจ ุดุฏู ุจู ุตูุฑุช ุณุฑุงุณุฑ
- **ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู** ุงุฒ [@BotFather](https://t.me/BotFather)
- **ููููู N8N** ุจุง endpoint ูุจููฺฉ

### ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

1. **ฺฉููู ู ูุตุจ**
   ```bash
   git clone <ุขุฏุฑุณ-ูุฎุฒู-ุดูุง>
   cd telegram-n8n-video-bot
   npm install
   ```

2. **ุงุฌุงุฏ Cloudflare KV Namespace**
   ```bash
   wrangler kv namespace create CHAT_STATES
   wrangler kv namespace create CHAT_STATES --preview
   ```
   
   IDูุง namespace ุฑุง ุฏุฑ `wrangler.toml` ฺฉูพ ฺฉูุฏ:
   ```toml
   [[kv_namespaces]]
   binding = "CHAT_STATES"
   id = "your-production-namespace-id"
   preview_id = "your-preview-namespace-id"
   ```

3. **ูพฺฉุฑุจูุฏ Secrets**
   ```bash
   wrangler secret put TELEGRAM_BOT_TOKEN
   # ุชูฺฉู ุฑุจุงุช ุฎูุฏ ุฑุง ุงุฒ @BotFather ูุงุฑุฏ ฺฉูุฏ
   
   wrangler secret put N8N_WEBHOOK_URL
   # ุขุฏุฑุณ ูุจููฺฉ N8N ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
   
   wrangler secret put TELEGRAM_SECRET_TOKEN
   # ุงุฎุชุงุฑ ุงูุง ุชูุตู ูโุดูุฏ: ฺฉ ุฑุดุชู ุชุตุงุฏู ุชููุฏ ฺฉูุฏ
   ```

## โ๏ธ ูพฺฉุฑุจูุฏ

### ูุชุบุฑูุง ูุญุท

| ูุชุบุฑ | ุงูุฒุงู | ุชูุถุญุงุช |
|-------|--------|----------|
| `TELEGRAM_BOT_TOKEN` | โ | ุชูฺฉู ุฑุจุงุช ุงุฒ @BotFather |
| `N8N_WEBHOOK_URL` | โ | endpoint ูุจููฺฉ N8N ุดูุง |
| `TELEGRAM_SECRET_TOKEN` | โ๏ธ | ุชูฺฉู ุงุนุชุจุงุฑุณูุฌ ูุจููฺฉ (ุชูุตู ูโุดูุฏ) |

### ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุชูฺฏุฑุงู

1. **ุงุฌุงุฏ ุฑุจุงุช**: ุจู [@BotFather](https://t.me/BotFather) ูพุงู ุฏูุฏ ู `/newbot` ุจูุฑุณุชุฏ
2. **ุฏุฑุงูุช ุชูฺฉู**: ุชูฺฉู ุงุฑุงุฆู ุดุฏู ุฑุง ุฐุฎุฑู ฺฉูุฏ
3. **ูพฺฉุฑุจูุฏ ุฑุจุงุช** (ุงุฎุชุงุฑ):
   ```
   /setdescription - ุฑุจุงุช ูพุฑุฏุงุฒุด ูุฏู ุจุฑุง ุฌุฑุงูโูุง ฺฉุงุฑ N8N
   /setcommands - start - ุดุฑูุน ูุฑุขูุฏ ุขูพููุฏ ูุฏู
   /setprivacy - Disable (ุงฺฏุฑ ูโุฎูุงูุฏ ุฑุจุงุช ููู ูพุงูโูุง ฺฏุฑูู ุฑุง ุจุฎูุงูุฏ)
   ```

## ๐ ูุญูู ุงุณุชูุงุฏู

### ฺุช ุฎุตูุต

1. ฺฉ ฺฏูุชฺฏู ุฎุตูุต ุจุง ุฑุจุงุช ุฎูุฏ ุดุฑูุน ฺฉูุฏ
2. `/start` ุจูุฑุณุชุฏ ุชุง ูุฒุงุฑุฏ ุขูพููุฏ ุดุฑูุน ุดูุฏ
3. ุฏุณุชูุฑุงูุนููโูุง ุชุนุงูู ุฑุง ุจุฑุง ุขูพููุฏ ูุฏู ู ุงุฑุงุฆู ูุชุงุฏุชุง ุฏูุจุงู ฺฉูุฏ
4. ุฌุฒุฆุงุช ุฑุง ุชุฃุฏ ฺฉูุฏ ุชุง ุจู N8N ุงุฑุณุงู ุดูุฏ

### ฺุช ฺฏุฑูู

1. ุฑุจุงุช ุฑุง ุจู ฺฏุฑูู ุฎูุฏ ุงุถุงูู ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ฺฉู ุฑุจุงุช ูโุชูุงูุฏ ูพุงูโูุง ุฑุง ุจุฎูุงูุฏ (ุญุงูุช privacy ุฑุง ุบุฑูุนุงู ฺฉูุฏ) ุง ุฑุจุงุช ุฑุง ููุดู ฺฉูุฏ
3. ุจู ูพุงู ูุฏู ูพุงุณุฎ ุฏูุฏ ุง ูุฏู ุฑุง ุฏุฑ ูพุงู ุฎูุฏ ูุฑุงุฑ ุฏูุฏ
4. ุฑุจุงุช ุฑุง ุจุง ูุงูุจ ูุงุฑุณ ููุดู ฺฉูุฏ

#### ููููู ุงุณุชูุงุฏู ฺฏุฑูู

```
@username_ุฑุจุงุช_ุดูุง
ุขูพููุฏ
https://t.me/mychannel/123

ฺฉุงูุงู:
ุจุฑุฑุณโูุง ุชฺฉููููฺ

ุนููุงู:
ุจุฑุฑุณ ุฌุฏุฏุชุฑู ุขููู

ุชูุถุญ:
ุจุฑุฑุณ ุฌุงูุน ูฺฺฏโูุง ู ุนููฺฉุฑุฏ ุฌุฏุฏุชุฑู ุขููู

ุชฺฏ ูุง:
ุขููู ู ุจุฑุฑุณ ู ุชฺฉููููฺ
```

## ๐ง ุชูุณุนู

### ุชูุณุนู ูุญู

```bash
# ุดุฑูุน ุณุฑูุฑ ุชูุณุนู
npm run dev

# ูุจููฺฉ ุฏุฑ ุขุฏุฑุณ ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ:
# http://127.0.0.1:8787/webhook
```

### ุงุณุชูุฑุงุฑ

```bash
# ุงุณุชูุฑุงุฑ ุฏุฑ ุชููุฏ
npm run deploy

# ูุธุงุฑุช ุจุฑ ูุงฺฏโูุง
wrangler tail
```

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช - ูุงู [LICENSE](LICENSE) ุฑุง ุจุฑุง ุฌุฒุฆุงุช ุจุจูุฏ.

## ๐ค ูุดุงุฑฺฉุช

ูุดุงุฑฺฉุชโูุง ุฎูุดโุขูุฏ ูุณุชูุฏ! ูุทูุงู ุจุฑุง ุชุบุฑุงุช ุนูุฏูุ ุงุจุชุฏุง ฺฉ issue ุจุงุฒ ฺฉูุฏ ุชุง ุฏุฑ ููุฑุฏ ุขูฺู ูโุฎูุงูุฏ ุชุบุฑ ุฏูุฏ ุจุญุซ ฺฉูู.

---

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุง ุงุณุชูุงุฏู ุงุฒ TypeScriptุ Cloudflare Workers ู Telegram Bot API**
